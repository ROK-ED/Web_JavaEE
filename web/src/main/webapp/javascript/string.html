<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>string.html</title>
    <script>
        var str = `Lorem lorem Lorem ipsum dolor sit dolor sit  amet consectetur adipisicing elit.`;
        console.log(str.length);
        var newStr = str.slice(5, -10); //-값 가능
        console.log(newStr)
        var newStr1 = str.slice(5);
        console.log(newStr1)
        var newStr2 = str.substring(3, 5); //-값 불가능
        console.log(newStr2)
        var newStr3 = str.substr(3, 5);
        console.log(newStr3)
        var newStr4 = str.replace('Lorem', '로렘').replace('.', '');
        console.log(newStr4)
        // var reg = / /;   //  / /; ~ new RegExp();     //new Object ~ {}
        var newStr5 = str.replace(/lorem/i, '로렘'); //정규표현식 - 대소문자 구분없이하는법
        console.log(newStr5)
        var newStr6 = str.replace(/lorem/ig, '로렘'); //정규표현식 - 대소문자 구분없이 전부변경
        console.log(newStr6)
        var newStr7 = str.replace(/lorem/ig, '로렘'); //원하는 위치의 값을 바꾸는것 ~~~~~~~~~~~~~~
        console.log(newStr7)
        var newStr8 = str.charAt(10); //위치의 문자
        console.log(newStr8)
        var newStr9 = str.charCodeAt(10); //위치의 아스키코드
        console.log(newStr9)
        var newStr10 = str[10]; //위치의 문자
        console.log(newStr10)


        /*
        / /g ~전체글중
        toUppercase()
        toLowercase()
        concat()
        trim()
        padStart()
        padEnd()
        split() - 문자열을 배열로
        */

        /*
        search() - 표현식을 쓸수있다
        String.indexOf() - 두번째값으로 시작위치를 정할수있다, 표현식을 쓸수없다
        String.lastIndexOf()
        match() - 표현식을 쓸수있다
        
        includes() - true or false
        String.startsWith()
        String.endWith()
        */

        var person_no = [
            '950403-1234567',
            '950403 2234567',
            '010403/3234567',
            '2104034234567', //2021
            '950403*1234567'
        ];

        var gen = check_gender('200403 4234567');
        console.log(gen);

        // function check_gender(e) {

        //     var year = e.slice(0, 2);
        //     console.log(year)
        //     var gender = e.slice(-7, -6);
        //     console.log(gender)

        //     // if (gender == 1 ) {
        //     //     return "남";
        //     // } else if (gender == 2) {
        //     //     return "여";
        //     // }else if (year < 22 && gender == 3) {
        //     //     return "남";
        //     // }else if (year < 22 && gender == 4) {
        //     //     return "여";
        //     // } else {
        //     //     return "잘못된 값입니다.";
        //     // }

        //     console.log(new Date().getFullYear());
        //     var toyear = new Date().getFullYear().toString().slice(3,4);



        //     if ((gender == 1) || (year < toyear && gender == 3)) {
        //         return "남";
        //     } else if ((gender == 2) || (year < toyear && gender == 4)) {
        //         return "여";
        //     } else {
        //         return "잘못된 값입니다.";
        //     }

        // }

        // function check_gender(birth) {
        //     var spec = ['*','/','-',' ']

        //     var yy = birth.substr(0,2);
        //     for(var str of spec){
        //         var gen = birth.replace(str,'');
        //     }
        //     return false || 0 || '잘못된 번호입니다.'
        // }

        function check_gender(birth) {

            var yy = birth.substr(0, 2);
            var ovar2000 = yy > 21 ? false : true;
            var gen = birth.slice(-7, -6);
            var gender = '';
            if (ovar2000 && gen == '3')
                gender = '남자';
            else if (ovar2000 && gen == '4')
                gender = '여자';
            else if (!ovar2000 && gen == '1')
                gender = '남자';
            else if (!ovar2000 && gen == '2')
                gender = '여자';

            return gender || '잘못된번호입니다.';
        }
    </script>
</head>

<body>
    주민번호: <input type="text" id="jumin"><br>
    남: <input type="radio" name="gender" value="남자">
    여: <input type="radio" name="gender" value="여자">
    잘못된번호: <input type="radio" name="gender" value="잘못된번호입니다.">

    <script>
        var spec = ['*', '/', '-', ' ', '$']

        // document.getElementById('jumin').onchange = function(){};
        document.getElementById('jumin').addEventListener("change", function () {
            console.log(this.value);
            var birth = this.value;
            for (var str of spec) {
                birth = birth.replace(str, '');
            }
            if (birth.length != 13) {
                console.log('잘못된 값')
                return;
            }

            var gen = check_gender(birth);
            // var genders = document.querySelectorAll('input[name="gender"]');
            // if(gen == '남자')
            // genders[0].checked = true;
            // else if(gen == '여자')
            // genders[1].checked = true;
            // else
            // genders[2].checked = true;
           
            var genders = document.querySelector('input[value="'+gen+ '"]');
            genders.checked = true;

            console.log(gen);
        });
    </script>

</body>

</html>